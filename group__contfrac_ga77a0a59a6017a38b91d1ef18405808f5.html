<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>E.V.E: eve::lentz_b</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="godbolt.js"></script>
<script type="text/javascript" src="fragment.js"></script>
<script type="text/javascript" src="paragraph.js"></script>
<script type="text/javascript">
  DoxygenAwesomeParagraphLink.init()
  DoxygenAwesomeFragmentCopyButton.init()
  SendToGodbolt.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<a href="https://github.com/jfalcou/eve" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- BEGIN TITLEAREA-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr  style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">E.V.E
   </div>
   <div id="projectbrief">v2023.02.15</div>
  </td>
 </tr>
   <tr><td colspan="2" style="padding: 20px 0px 0px 0px;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__contfrac_ga77a0a59a6017a38b91d1ef18405808f5.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="ga77a0a59a6017a38b91d1ef18405808f5" name="ga77a0a59a6017a38b91d1ef18405808f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77a0a59a6017a38b91d1ef18405808f5">&#9670;&#160;</a></span>lentz_b</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eve::lentz_b = functor&lt;lentz_b_t&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><b>Defined in header</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;eve/module/math.hpp&gt;</span></div>
</div><!-- fragment --><h2 class="groupheader">Callable Signatures </h2>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceeve.html">eve</a></div>
<div class="line">{</div>
<div class="line">  <span class="keyword">template</span>&lt; <span class="keyword">typename</span> Gen, eve::<span class="keywordtype">float</span>ing_value T&gt; <span class="keyword">auto</span> <a class="code hl_variable" href="group__contfrac_ga77a0a59a6017a38b91d1ef18405808f5.html#ga77a0a59a6017a38b91d1ef18405808f5">lentz_b</a>(Gen g, <span class="keyword">const</span> T&amp; tol, <span class="keywordtype">size_t</span> &amp; max_terms) <span class="keyword">noexcept</span>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__contfrac_ga77a0a59a6017a38b91d1ef18405808f5_html_ga77a0a59a6017a38b91d1ef18405808f5"><div class="ttname"><a href="group__contfrac_ga77a0a59a6017a38b91d1ef18405808f5.html#ga77a0a59a6017a38b91d1ef18405808f5">eve::lentz_b</a></div><div class="ttdeci">constexpr auto lentz_b</div><div class="ttdoc">Implement the lentz scheme to evaluate continued fractions.</div><div class="ttdef"><b>Definition</b> lentz_b.hpp:92</div></div>
<div class="ttc" id="anamespaceeve_html"><div class="ttname"><a href="namespaceeve.html">eve</a></div><div class="ttdoc">EVE Main Namespace.</div><div class="ttdef"><b>Definition</b> abi.hpp:18</div></div>
</div><!-- fragment --><p><b>Parameters</b></p>
<ul>
<li><code>g</code> : generator function.</li>
<li><code>tol</code> : tolerance value. If negative the effective tolerance will be <a class="el" href="group__core__arithmetic_gaf9bc648f57be07a02903259faabd2df1.html#gaf9bc648f57be07a02903259faabd2df1" title="elementwise_callable object computing the absolute value of the parameter.">abs(tol)</a>*eve<a class="el" href="group__core__constants_ga09f150f349426116160f46376d5f9063.html#ga09f150f349426116160f46376d5f9063" title="Computes a constant to the machine epsilon.">eps</a>(as(&lt; u_t&gt;) where u_t is the underlying floating type associated to the return type of the invocable g.</li>
<li><code>max_terms</code> : no more than max_terms calls to the generator will be made.</li>
</ul>
<p>The generator type should be an invocable which supports the following operations:</p><ul>
<li>The call to g() returns a floating value or a pair (kumi::tuple) of such. Each time this operator is called then the next pair of a and b values has to be returned, or, if result_type is not a pair type, then the next b value has to be returned and all the a values are assumed to be equal to one.</li>
<li>In all the continued fraction evaluation functions the effective tol parameter is the relative precision desired in the result, The evaluation of the fraction will continue until the last term evaluated leaves the relative error in the result less than tolerance or the max_terms iteration is reached.</li>
</ul>
<p><b>Return value</b></p>
<p>The value of the continued fraction is returned. \(\displaystyle b_0+\frac{a_1}{b_1+\frac{a_2}{b_2+\frac{a_3}{b_3+\cdots\vphantom{\frac{1}{1}} }}}\)</p>
<p>Note that the the first a value (a0) generated is not used here.</p>
<dl class="section note"><dt>Note</dt><dd>the implementation is largely inspired by the boost/math/fraction one, with less requirements on the invocable. Peculiarly lambda functions can be used.</dd></dl>
<h2 class="groupheader">Example </h2>
<div class="fragment"><div class="line"><span class="comment">// revision 1</span></div>
<div class="line"><span class="preprocessor">#include &lt;eve/module/math.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>const_fraction</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">auto</span> operator()(){ <span class="keywordflow">return</span> T{1.0, 2.0, 3.0, 4.0}; }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>tan_fraction</div>
<div class="line">{</div>
<div class="line">  T a, b;</div>
<div class="line">  tan_fraction(T v) : a(-v * v), b(-1) {}</div>
<div class="line">  <span class="keyword">auto</span> operator()()</div>
<div class="line">  {</div>
<div class="line">    b += T(2);</div>
<div class="line">    <span class="keywordflow">return</span> kumi::tuple{a, b};</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line">T mytan(T a)</div>
<div class="line">{</div>
<div class="line">  tan_fraction&lt;T&gt; fract(a);</div>
<div class="line">  <span class="keywordflow">return</span> a/<a class="code hl_variable" href="group__contfrac_ga77a0a59a6017a38b91d1ef18405808f5.html#ga77a0a59a6017a38b91d1ef18405808f5">eve::lentz_b</a>(fract, <a class="code hl_variable" href="group__core__constants_ga09f150f349426116160f46376d5f9063.html#ga09f150f349426116160f46376d5f9063">eve::eps</a>(<a class="code hl_struct" href="structeve_1_1as.html">eve::as</a>&lt;eve::underlying_type_t&lt;T&gt;&gt;()), 100);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">using </span>w_t = <a class="code hl_struct" href="structeve_1_1wide.html">eve::wide&lt;double, eve::fixed&lt;4&gt;</a>&gt;;</div>
<div class="line">  const_fraction&lt;w_t&gt; func;</div>
<div class="line">  <a class="code hl_struct" href="structeve_1_1wide.html">eve::wide</a> zz{1.0, 2.0, 3.0, 4.0};</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;ref constant fracs &quot;</span> &lt;&lt; (zz+<a class="code hl_variable" href="group__core__arithmetic_ga6745422ee3727af1a6e34182e8efbcb7.html#ga6745422ee3727af1a6e34182e8efbcb7">eve::sqrt</a>(<a class="code hl_variable" href="group__core__arithmetic_gacb015917b1a95c38dab29df14695c1bf.html#gacb015917b1a95c38dab29df14695c1bf">eve::sqr</a>(zz)+4))/2 &lt;&lt; std::endl;</div>
<div class="line">  <span class="keyword">auto</span> gr = <a class="code hl_variable" href="group__contfrac_ga77a0a59a6017a38b91d1ef18405808f5.html#ga77a0a59a6017a38b91d1ef18405808f5">eve::lentz_b</a>(func,<a class="code hl_variable" href="group__core__constants_ga09f150f349426116160f46376d5f9063.html#ga09f150f349426116160f46376d5f9063">eve::eps</a>(<a class="code hl_struct" href="structeve_1_1as.html">eve::as&lt;double&gt;</a>()), 100);</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;    constant fracs &quot;</span> &lt;&lt; gr &lt;&lt; std::endl;</div>
<div class="line">  w_t z{eve::pio_4(<a class="code hl_struct" href="structeve_1_1as.html">eve::as&lt;double&gt;</a>()), eve::pio_3(<a class="code hl_struct" href="structeve_1_1as.html">eve::as&lt;double&gt;</a>()), 0.0, 1.0};</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;frac tan(&quot;</span> &lt;&lt; z &lt;&lt; <span class="stringliteral">&quot;) is: &quot;</span> &lt;&lt; mytan(z) &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;ref  tan(&quot;</span> &lt;&lt; z &lt;&lt; <span class="stringliteral">&quot;) is: &quot;</span> &lt;&lt; <a class="code hl_variable" href="group__math__trig_gaf92ef4ab7d8bd5a527db4d94bcebbdf7.html#gaf92ef4ab7d8bd5a527db4d94bcebbdf7">eve::tan</a>(z) &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__core__arithmetic_ga6745422ee3727af1a6e34182e8efbcb7_html_ga6745422ee3727af1a6e34182e8efbcb7"><div class="ttname"><a href="group__core__arithmetic_ga6745422ee3727af1a6e34182e8efbcb7.html#ga6745422ee3727af1a6e34182e8efbcb7">eve::sqrt</a></div><div class="ttdeci">constexpr auto sqrt</div><div class="ttdoc">Computes the square root of the parameter.</div><div class="ttdef"><b>Definition</b> sqrt.hpp:80</div></div>
<div class="ttc" id="agroup__core__arithmetic_gacb015917b1a95c38dab29df14695c1bf_html_gacb015917b1a95c38dab29df14695c1bf"><div class="ttname"><a href="group__core__arithmetic_gacb015917b1a95c38dab29df14695c1bf.html#gacb015917b1a95c38dab29df14695c1bf">eve::sqr</a></div><div class="ttdeci">constexpr auto sqr</div><div class="ttdoc">Computes the square of the parameter.</div><div class="ttdef"><b>Definition</b> sqr.hpp:92</div></div>
<div class="ttc" id="agroup__core__constants_ga09f150f349426116160f46376d5f9063_html_ga09f150f349426116160f46376d5f9063"><div class="ttname"><a href="group__core__constants_ga09f150f349426116160f46376d5f9063.html#ga09f150f349426116160f46376d5f9063">eve::eps</a></div><div class="ttdeci">constexpr auto eps</div><div class="ttdoc">Computes a constant to the machine epsilon.</div><div class="ttdef"><b>Definition</b> eps.hpp:73</div></div>
<div class="ttc" id="agroup__math__trig_gaf92ef4ab7d8bd5a527db4d94bcebbdf7_html_gaf92ef4ab7d8bd5a527db4d94bcebbdf7"><div class="ttname"><a href="group__math__trig_gaf92ef4ab7d8bd5a527db4d94bcebbdf7.html#gaf92ef4ab7d8bd5a527db4d94bcebbdf7">eve::tan</a></div><div class="ttdeci">constexpr auto tan</div><div class="ttdoc">elementwise_callable object computing the tangent.</div><div class="ttdef"><b>Definition</b> tan.hpp:91</div></div>
<div class="ttc" id="astructeve_1_1as_html"><div class="ttname"><a href="structeve_1_1as.html">eve::as</a></div><div class="ttdoc">Lightweight type-wrapper.</div><div class="ttdef"><b>Definition</b> as.hpp:29</div></div>
<div class="ttc" id="astructeve_1_1wide_html"><div class="ttname"><a href="structeve_1_1wide.html">eve::wide</a></div><div class="ttdoc">Wrapper for SIMD registers.</div><div class="ttdef"><b>Definition</b> wide.hpp:93</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeve.html">eve</a></li>
  </ul>
</div>
</div> <!-- DOXYSTRAP RELATED -->
</div> <!-- DOXYSTRAP RELATED -->
</div> <!-- DOXYSTRAP RELATED -->
</div> <!-- DOXYSTRAP RELATED -->
</div> <!-- DOXYSTRAP RELATED -->
</body>
</html>
